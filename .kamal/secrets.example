#!/usr/bin/env bash

# Kamal secrets file - sources environment variables for deployment
# Copy this to .kamal/secrets and fill in your actual values
# Make it executable: chmod +x .kamal/secrets

# Load .env.production file if it exists
if [ -f .env.production ]; then
  export $(grep -v '^#' .env.production | xargs)
fi

# Rails secrets
export RAILS_MASTER_KEY="${RAILS_MASTER_KEY}"
export JWT_SECRET_KEY="${JWT_SECRET_KEY}"

# Database configuration (use Docker network name)
export DB_HOST="reportify-api-db"
export DB_USERNAME="postgres"
export DB_PASSWORD="${DB_PASSWORD}"

# Redis configuration (use Docker network name)
export REDIS_URL="redis://reportify-api-redis:6379/0"
